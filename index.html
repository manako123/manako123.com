<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Online SoundBoard</title>

<style>
body{
    margin:0;
    font-family:Arial;
    background:#0f172a;
    color:white;
    text-align:center;
}
h1{padding:20px;}
button{
    padding:10px 20px;
    margin:5px;
    border:none;
    border-radius:10px;
    cursor:pointer;
}
.upload-btn{
    background:#6366f1;
    color:white;
}
.play{background:#22d3ee;}
.stop{background:#475569;}
.delete{background:#ef4444;}
.grid{
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(200px,1fr));
    gap:20px;
    padding:40px;
}
.card{
    background:#1e293b;
    padding:20px;
    border-radius:15px;
}
</style>
</head>
<body>

<h1>ðŸ”¥ Online SoundBoard</h1>

<input type="file" id="fileInput" style="display:none" accept="audio/*">
<button class="upload-btn" onclick="document.getElementById('fileInput').click()">+ Upload</button>

<div class="grid" id="grid"></div>

<script>

const grid = document.getElementById("grid");
const fileInput = document.getElementById("fileInput");

async function loadSounds(){
    const res = await fetch("load.php");
    const sounds = await res.json();
    render(sounds);
}

function render(sounds){
    grid.innerHTML = "";
    sounds.forEach(sound=>{
        const card=document.createElement("div");
        card.className="card";

        const title=document.createElement("div");
        title.textContent=sound.name;

        const audio=new Audio(sound.file);

        const play=document.createElement("button");
        play.className="play";
        play.textContent="Play";
        play.onclick=()=>audio.play();

        const stop=document.createElement("button");
        stop.className="stop";
        stop.textContent="Stop";
        stop.onclick=()=>{audio.pause();audio.currentTime=0;}

        card.appendChild(title);
        card.appendChild(play);
        card.appendChild(stop);
        grid.appendChild(card);
    });
}

fileInput.addEventListener("change",async function(){
    const file=this.files[0];
    if(!file)return;

    const formData=new FormData();
    formData.append("sound",file);

    await fetch("upload.php",{
        method:"POST",
        body:formData
    });

    loadSounds();
});

loadSounds();

</script>

</body>
</html>